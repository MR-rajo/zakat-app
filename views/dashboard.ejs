<%- include('layouts/header', { title: 'Dashboard - Zakat Fitrah App',
bodyClass: 'bg-gray-50', currentPage: 'dashboard' }) %>

<!-- Dashboard Container with Modern Design -->
<div class="dashboard-wrapper">
  <!-- Modern Header Section -->
  <div class="dashboard-header">
    <div class="header-content">
      <div class="header-left">
        <div class="header-icon-wrapper">
          <i class="fas fa-tachometer-alt"></i>
        </div>
        <div class="header-text">
          <h1 class="header-title">Dashboard</h1>
          <p class="header-subtitle">
            Selamat datang, <span class="header-name"><%= (user && user.name) ? user.name : 'User' %></span>
          </p>
        </div>
      </div>
      <div class="header-right">
        <div class="date-badge">
          <i class="fas fa-calendar-alt"></i>
          <span id="current-date">Loading...</span>
        </div>
      </div>
    </div>
    <div class="header-decoration"></div>
  </div>

  <!-- Stats Cards Grid - Revamped -->
  <div class="stats-grid">
    <!-- Total Muzakki Card -->
    <div class="stat-card stat-card-blue">
      <div class="stat-card-header">
        <div class="stat-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="stat-badge">Aktif</div>
      </div>
      <div class="stat-content">
        <div class="stat-value"><%= stats.total_muzakki || 0 %></div>
        <div class="stat-label">Total Muzakki</div>
        <div class="stat-description">Terdaftar dalam sistem</div>
      </div>
      <div class="stat-footer">
        <i class="fas fa-arrow-up"></i>
        <span>Database terkini</span>
      </div>
    </div>

    <!-- Zakat Terkumpul Card -->
    <div class="stat-card stat-card-green">
      <div class="stat-card-header">
        <div class="stat-icon">
          <i class="fas fa-coins"></i>
        </div>
        <div class="stat-badge">Dana</div>
      </div>
      <div class="stat-content">
        <div class="stat-value">Rp <%= Math.floor(stats.total_zakat || 0).toLocaleString('id-ID') %></div>
        <div class="stat-label">Zakat Terkumpul</div>
        <div class="stat-description">Total dana zakat fitrah</div>
      </div>
      <div class="stat-footer">
        <i class="fas fa-check-circle"></i>
        <span>Terkumpul</span>
      </div>
    </div>

    <!-- Total Infak Card -->
    <div class="stat-card stat-card-purple">
      <div class="stat-card-header">
        <div class="stat-icon">
          <i class="fas fa-hand-holding-heart"></i>
        </div>
        <div class="stat-badge">Infak</div>
      </div>
      <div class="stat-content">
        <div class="stat-value">Rp <%= Math.floor(stats.total_infak || 0).toLocaleString('id-ID') %></div>
        <div class="stat-label">Total Infak</div>
        <div class="stat-description">Dana infak terkumpul</div>
      </div>
      <div class="stat-footer">
        <i class="fas fa-heart"></i>
        <span>Sedekah</span>
      </div>
    </div>

    <!-- Belum Bayar Card -->
    <div class="stat-card stat-card-red">
      <div class="stat-card-header">
        <div class="stat-icon">
          <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="stat-badge">Alert</div>
      </div>
      <div class="stat-content">
        <div class="stat-value"><%= stats.belum_bayar || 0 %></div>
        <div class="stat-label">Belum Bayar</div>
        <div class="stat-description">Memerlukan tindak lanjut</div>
      </div>
      <div class="stat-footer">
        <i class="fas fa-clock"></i>
        <span>Pending</span>
      </div>
    </div>
  </div>

  <!-- Quick Actions Section - Revamped -->
  <div class="quick-actions-section">
    <div class="section-header">
      <div class="section-icon">
        <i class="fas fa-bolt"></i>
      </div>
      <h2 class="section-title">Quick Actions</h2>
      <span class="section-badge">Aksi Cepat</span>
    </div>
    
    <div class="quick-actions-grid">
      <a href="/muzakki/create" class="action-card action-primary">
        <div class="action-icon">
          <i class="fas fa-plus"></i>
        </div>
        <div class="action-content">
          <h3 class="action-title">Tambah Muzakki</h3>
          <p class="action-desc">Daftarkan muzakki baru</p>
        </div>
        <div class="action-arrow">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a href="/muzakki" class="action-card action-indigo">
        <div class="action-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="action-content">
          <h3 class="action-title">Data Muzakki</h3>
          <p class="action-desc">Lihat semua data</p>
        </div>
        <div class="action-arrow">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>

      <a href="/laporan" class="action-card action-green">
        <div class="action-icon">
          <i class="fas fa-chart-bar"></i>
        </div>
        <div class="action-content">
          <h3 class="action-title">Lihat Laporan</h3>
          <p class="action-desc">Analisis data lengkap</p>
        </div>
        <div class="action-arrow">
          <i class="fas fa-arrow-right"></i>
        </div>
      </a>
    </div>
  </div>

  <!-- Two Column Layout for Recent Data -->
  <div class="two-column-layout">
    <!-- Muzakki Terbaru Section - Revamped -->
    <div class="data-section">
      <div class="section-header">
        <div class="section-icon icon-blue">
          <i class="fas fa-user-plus"></i>
        </div>
        <div class="section-header-text">
          <h2 class="section-title">Muzakki Terbaru</h2>
          <p class="section-subtitle">Data pendaftaran terkini</p>
        </div>
        <span class="section-badge badge-blue">
          <i class="fas fa-clock"></i> Terbaru
        </span>
      </div>

      <div class="data-content">
        <% if (recentMuzakki && recentMuzakki.length > 0) { %>
          <div class="data-list">
            <% recentMuzakki.forEach((muzakki, index) => { %>
              <div class="data-item">
                <div class="data-item-number"><%= index + 1 %></div>
                <div class="data-item-content">
                  <div class="data-item-header">
                    <h3 class="data-item-name"><%= muzakki.nama %></h3>
                    <div class="data-item-amount">Rp <%= new Intl.NumberFormat('id-ID').format(muzakki.jumlah_zakat) %></div>
                  </div>
                  <div class="data-item-footer">
                    <div class="data-item-info">
                      <i class="fas fa-home"></i> RT <%= muzakki.rt_nama %>
                      <span class="separator">â€¢</span>
                      <i class="fas fa-users"></i> <%= muzakki.jumlah_jiwa %> jiwa
                    </div>
                    <% if (muzakki.status === 'lunas') { %>
                      <span class="status-badge status-success">
                        <i class="fas fa-check-circle"></i> Lunas
                      </span>
                    <% } else { %>
                      <span class="status-badge status-warning">
                        <i class="fas fa-clock"></i> Belum Bayar
                      </span>
                    <% } %>
                  </div>
                </div>
              </div>
            <% }); %>
          </div>
          
          <div class="section-footer">
            <a href="/muzakki" class="btn-view-all">
              <span>Lihat Semua Data</span>
              <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        <% } else { %>
          <div class="empty-state">
            <div class="empty-icon">
              <i class="fas fa-users"></i>
            </div>
            <h3 class="empty-title">Belum ada data muzakki</h3>
            <p class="empty-desc">Mulai dengan mendaftarkan muzakki pertama</p>
            <a href="/muzakki/create" class="btn-empty-action">
              <i class="fas fa-plus"></i> Tambah Muzakki
            </a>
          </div>
        <% } %>
      </div>
    </div>

    <!-- Summary per RT Section - Revamped -->
    <div class="data-section">
      <div class="section-header">
        <div class="section-icon icon-green">
          <i class="fas fa-chart-pie"></i>
        </div>
        <div class="section-header-text">
          <h2 class="section-title">Summary per RT</h2>
          <p class="section-subtitle">Statistik berdasarkan RT</p>
        </div>
        <span class="section-badge badge-green">
          <i class="fas fa-chart-bar"></i> Statistik
        </span>
      </div>

      <div class="data-content">
        <% if (rtStats && rtStats.length > 0) { %>
          <div class="data-list">
            <% rtStats.forEach((rt, index) => { %>
              <div class="data-item">
                <div class="data-item-rt-icon">
                  <i class="fas fa-home"></i>
                </div>
                <div class="data-item-content">
                  <div class="data-item-header">
                    <h3 class="data-item-name">RT <%= rt.nomor_rt %></h3>
                    <div class="data-item-amount">Rp <%= Math.floor(rt.total_zakat).toLocaleString('id-ID') %></div>
                  </div>
                  <div class="data-item-footer">
                    <div class="data-item-info">
                      <i class="fas fa-users"></i> <%= rt.total_muzakki %> muzakki
                    </div>
                    <div class="rt-status-badges">
                      <span class="status-badge status-success-sm">
                        <%= rt.lunas %> lunas
                      </span>
                      <% if (rt.belum_bayar > 0) { %>
                        <span class="status-badge status-warning-sm">
                          <%= rt.belum_bayar %> belum
                        </span>
                      <% } %>
                    </div>
                  </div>
                </div>
              </div>
            <% }); %>
          </div>
        <% } else { %>
          <div class="empty-state">
            <div class="empty-icon">
              <i class="fas fa-chart-pie"></i>
            </div>
            <h3 class="empty-title">Belum ada data statistik RT</h3>
            <p class="empty-desc">Data akan muncul setelah ada muzakki terdaftar</p>
          </div>
        <% } %>
      </div>
    </div>
  </div>
</div>

<!-- Modern Dashboard Styles -->
<style>
  /* Dashboard Wrapper */
  .dashboard-wrapper {
    margin: 0 auto;
    padding: 12px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  /* Modern Header */
  .dashboard-header {
    position: relative;
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 50%, #0f8a1f 100%);
    border-radius: 12px;
    padding: 14px 18px;
    box-shadow: 0 6px 20px rgba(30, 175, 47, 0.25);
    overflow: hidden;
  }

  .header-decoration {
    position: absolute;
    top: -50px;
    right: -50px;
    width: 200px;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    animation: float 6s ease-in-out infinite;
  }

  .header-content {
    position: relative;
    z-index: 1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .header-icon-wrapper {
    width: 36px;
    height: 36px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    color: white;
  }

  .header-title {
    font-size: 22px;
    font-weight: 700;
    color: white;
    margin: 0;
  }

  .header-subtitle {
    font-size: 13px;
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
  }

  .header-name {
    font-weight: 600;
    color: #fbbf24;
  }

  .date-badge {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    padding: 8px 14px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
    color: white;
    font-weight: 500;
    font-size: 12px;
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 10px;
  }

  .stat-card {
    background: white;
    border-radius: 10px;
    padding: 12px 14px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid #e5e7eb;
  }

  .stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
  }

  .stat-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
  }

  .stat-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
  }

  .stat-card-blue .stat-icon {
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
    color: white;
  }

  .stat-card-green .stat-icon {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
  }

  .stat-card-purple .stat-icon {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
  }

  .stat-card-red .stat-icon {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
  }

  .stat-badge {
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
  }

  .stat-card-blue .stat-badge {
    background: #d1fae5;
    color: #065f46;
  }

  .stat-card-green .stat-badge {
    background: #d1fae5;
    color: #065f46;
  }

  .stat-card-purple .stat-badge {
    background: #ede9fe;
    color: #5b21b6;
  }

  .stat-card-red .stat-badge {
    background: #fee2e2;
    color: #991b1b;
  }

  .stat-content {
    margin-bottom: 8px;
  }

  .stat-value {
    font-size: 20px;
    font-weight: 700;
    color: #111827;
    margin-bottom: 4px;
    line-height: 1;
  }

  .stat-label {
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 2px;
  }

  .stat-description {
    font-size: 11px;
    color: #6b7280;
  }

  .stat-footer {
    display: flex;
    align-items: center;
    gap: 4px;
    padding-top: 8px;
    border-top: 1px solid #e5e7eb;
    font-size: 10px;
    color: #6b7280;
  }

  /* Quick Actions Section */
  .quick-actions-section {
    background: white;
    border-radius: 10px;
    padding: 12px 14px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    border: 1px solid #e5e7eb;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
    flex-wrap: wrap;
  }

  .section-icon {
    width: 28px;
    height: 28px;
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
  }

  .icon-blue {
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
  }

  .icon-green {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }

  .section-title {
    font-size: 14px;
    font-weight: 700;
    color: #111827;
    margin: 0;
  }

  .section-subtitle {
    font-size: 11px;
    color: #6b7280;
    margin: 2px 0 0 0;
  }

  .section-header-text {
    flex: 1;
  }

  .section-badge {
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 9px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    display: flex;
    align-items: center;
    gap: 3px;
  }

  .badge-blue {
    background: #d1fae5;
    color: #065f46;
  }

  .badge-green {
    background: #d1fae5;
    color: #065f46;
  }

  /* Quick Actions Grid */
  .quick-actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 8px;
  }

  .action-card {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 8px;
    transition: all 0.3s ease;
    text-decoration: none;
    border: 2px solid transparent;
  }

  .action-primary {
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
  }

  .action-indigo {
    background: linear-gradient(135deg, #1EAF2F 0%, #0f8a1f 100%);
  }

  .action-green {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  }

  .action-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  }

  .action-icon {
    width: 30px;
    height: 30px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    flex-shrink: 0;
  }

  .action-content {
    flex: 1;
  }

  .action-title {
    font-size: 12px;
    font-weight: 600;
    color: white;
    margin: 0 0 2px 0;
  }

  .action-desc {
    font-size: 10px;
    color: rgba(255, 255, 255, 0.9);
    margin: 0;
  }

  .action-arrow {
    color: white;
    opacity: 0.7;
    transition: all 0.3s ease;
  }

  .action-card:hover .action-arrow {
    opacity: 1;
    transform: translateX(4px);
  }

  /* Two Column Layout */
  .two-column-layout {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
    gap: 12px;
  }

  /* Data Section */
  .data-section {
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    border: 1px solid #e5e7eb;
    overflow: hidden;
  }

  .data-section .section-header {
    background: linear-gradient(to right, #f9fafb, #f3f4f6);
    padding: 10px 12px;
    border-bottom: 1px solid #e5e7eb;
    margin-bottom: 0;
  }

  .data-content {
    padding: 12px;
  }

  /* Data List */
  .data-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .data-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 10px;
    background: linear-gradient(to right, #f9fafb, #ffffff);
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .data-item:hover {
    background: linear-gradient(to right, #f0fdf4, #d1fae5);
    border-color: #86efac;
    transform: translateX(4px);
  }

  .data-item-number {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 10px;
    flex-shrink: 0;
  }

  .data-item-rt-icon {
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 10px;
    flex-shrink: 0;
  }

  .data-item-content {
    flex: 1;
    min-width: 0;
  }

  .data-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
    gap: 8px;
  }

  .data-item-name {
    font-size: 12px;
    font-weight: 600;
    color: #111827;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .data-item-amount {
    font-size: 11px;
    font-weight: 700;
    color: #111827;
    white-space: nowrap;
  }

  .data-item-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .data-item-info {
    font-size: 10px;
    color: #6b7280;
    display: flex;
    align-items: center;
    gap: 3px;
  }

  .separator {
    margin: 0 4px;
  }

  /* Status Badges */
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 3px;
    padding: 2px 6px;
    border-radius: 8px;
    font-size: 9px;
    font-weight: 600;
    white-space: nowrap;
  }

  .status-success {
    background: #d1fae5;
    color: #065f46;
  }

  .status-warning {
    background: #fef3c7;
    color: #92400e;
  }

  .status-success-sm,
  .status-warning-sm {
    padding: 2px 5px;
    font-size: 8px;
  }

  .rt-status-badges {
    display: flex;
    gap: 6px;
  }

  /* Section Footer */
  .section-footer {
    margin-top: 12px;
    padding-top: 12px;
    border-top: 1px solid #e5e7eb;
    text-align: center;
  }

  .btn-view-all {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
    color: white;
    border-radius: 8px;
    font-weight: 600;
    font-size: 11px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .btn-view-all:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(30, 175, 47, 0.4);
  }

  /* Empty State */
  .empty-state {
    text-align: center;
    padding: 30px 16px;
  }

  .empty-icon {
    width: 48px;
    height: 48px;
    background: #f3f4f6;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 12px;
    font-size: 20px;
    color: #9ca3af;
  }

  .empty-title {
    font-size: 14px;
    font-weight: 600;
    color: #111827;
    margin: 0 0 6px 0;
  }

  .empty-desc {
    font-size: 12px;
    color: #6b7280;
    margin: 0 0 16px 0;
  }

  .btn-empty-action {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: linear-gradient(135deg, #1EAF2F 0%, #16a127 100%);
    color: white;
    border-radius: 8px;
    font-weight: 600;
    font-size: 11px;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .btn-empty-action:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(30, 175, 47, 0.4);
  }

  /* Animations */
  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    .two-column-layout {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .dashboard-wrapper {
      padding: 8px;
      gap: 10px;
    }

    .dashboard-header {
      padding: 12px 14px;
    }

    .header-content {
      flex-direction: column;
      align-items: flex-start;
    }

    .header-title {
      font-size: 18px;
    }

    .date-badge {
      width: 100%;
      justify-content: center;
    }

    .stats-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .quick-actions-grid {
      grid-template-columns: 1fr;
    }

    .two-column-layout {
      grid-template-columns: 1fr;
    }

    .stat-value {
      font-size: 18px;
    }

    .data-item {
      flex-direction: column;
      align-items: flex-start;
    }

    .data-item-header {
      flex-direction: column;
      align-items: flex-start;
      width: 100%;
    }
  }

  @media (max-width: 640px) {
    .section-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .section-badge {
      align-self: flex-start;
    }
  }
</style>

<!-- Enhanced JavaScript -->
<script>
  // Set current date with better formatting
  document.addEventListener('DOMContentLoaded', function() {
    const dateElement = document.getElementById('current-date');
    if (dateElement) {
      const now = new Date();
      const options = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      };
      dateElement.textContent = now.toLocaleDateString('id-ID', options);
    }

    // Add entrance animations
    const animateElements = document.querySelectorAll('.stat-card, .action-card, .data-item');
    animateElements.forEach((el, index) => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(20px)';
      setTimeout(() => {
        el.style.transition = 'all 0.5s ease';
        el.style.opacity = '1';
        el.style.transform = 'translateY(0)';
      }, index * 50);
    });

    // Add Islamic glow effect on important elements
    const importantElements = document.querySelectorAll("[data-islamic-glow]");
    importantElements.forEach(el => {
      el.classList.add("islamic-glow");
    });

    // Enhanced tooltip effects for Islamic elements
    const tooltips = document.querySelectorAll("[data-tooltip]");
    tooltips.forEach(el => {
      el.addEventListener("mouseenter", function() {
        this.style.transform = "scale(1.05)";
      });
      el.addEventListener("mouseleave", function() {
        this.style.transform = "scale(1)";
      });
    });

    // Smooth scroll behavior
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          target.scrollIntoView({
            behavior: "smooth",
            block: "start"
          });
        }
      });
    });

    // Add ripple effect on button clicks
    const buttons = document.querySelectorAll("button, .btn-gradient-emerald, .btn-gradient-teal, .btn-gradient-cyan");
    buttons.forEach(button => {
      button.addEventListener("click", function(e) {
        const ripple = document.createElement("span");
        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;
        
        ripple.style.width = ripple.style.height = size + "px";
        ripple.style.left = x + "px";
        ripple.style.top = y + "px";
        ripple.classList.add("ripple");
        
        this.appendChild(ripple);
        
        setTimeout(() => {
          ripple.remove();
        }, 600);
      });
    });
  });

  // Auto-refresh stats every 5 minutes
  setInterval(() => {
    const statsCards = document.querySelectorAll("[data-stat-card]");
    statsCards.forEach(card => {
      card.classList.add("animate-pulse");
      setTimeout(() => {
        card.classList.remove("animate-pulse");
      }, 1000);
    });
  }, 300000);
</script>

<%- include('layouts/footer') %>
