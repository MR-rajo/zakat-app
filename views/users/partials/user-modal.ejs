<!-- Modal Add/Edit User -->
<div id="userModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 9999; overflow-y: auto; padding: 20px;">
  <div style="max-width: 500px; margin: 40px auto; background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); animation: modalSlideIn 0.3s ease;">
    <div style="padding: 24px; border-bottom: 1px solid #e5e7eb;">
      <h3 style="font-size: 1.5rem; font-weight: 700; color: #111827; margin: 0;" id="modalTitle">
        <i class="fas fa-user-plus mr-2 text-primary-600"></i>Tambah User Baru
      </h3>
    </div>
    
    <form id="userForm" method="POST" style="padding: 24px;">
      <input type="hidden" id="userId" name="id">
      <input type="hidden" id="formMethod" name="_method" value="POST">
      
      <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
          <i class="fas fa-user mr-2"></i>Nama Lengkap
        </label>
        <input 
          type="text" 
          id="userName" 
          name="name" 
          required 
          style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 14px; transition: all 0.3s;"
          placeholder="Masukkan nama lengkap"
          onfocus="this.style.borderColor='#1EAF2F'"
          onblur="this.style.borderColor='#e5e7eb'"
        >
      </div>

      <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
          <i class="fab fa-whatsapp mr-2"></i>Nomor WhatsApp
        </label>
        <input 
          type="text" 
          id="userWA" 
          name="nomor_wa" 
          required 
          style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 14px; transition: all 0.3s;"
          placeholder="Contoh: 628123456789"
          onfocus="this.style.borderColor='#1EAF2F'"
          onblur="this.style.borderColor='#e5e7eb'"
        >
        <small style="color: #6b7280; font-size: 12px; display: block; margin-top: 4px;">
          Format: 628xxx (dimulai dengan 62)
        </small>
      </div>

      <div style="margin-bottom: 20px;">
        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
          <i class="fas fa-shield-alt mr-2"></i>Role
        </label>
        <select 
          id="userRole" 
          name="role" 
          required 
          style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 14px; transition: all 0.3s;"
          onfocus="this.style.borderColor='#1EAF2F'"
          onblur="this.style.borderColor='#e5e7eb'"
        >
          <option value="panitia">Panitia</option>
          <option value="admin">Admin</option>
        </select>
      </div>

      <div id="passwordField" style="margin-bottom: 20px;">
        <label style="display: block; font-weight: 600; color: #374151; margin-bottom: 8px; font-size: 14px;">
          <i class="fas fa-lock mr-2"></i>Password
        </label>
        <input 
          type="password" 
          id="userPassword" 
          name="password" 
          style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 12px; font-size: 14px; transition: all 0.3s;"
          placeholder="Minimal 6 karakter"
          onfocus="this.style.borderColor='#1EAF2F'"
          onblur="this.style.borderColor='#e5e7eb'"
        >
        <small style="color: #6b7280; font-size: 12px; display: block; margin-top: 4px;">
          Kosongkan jika tidak ingin mengubah password
        </small>
      </div>

      <div style="display: flex; gap: 12px; margin-top: 28px;">
        <button 
          type="button" 
          onclick="closeModal()" 
          style="flex: 1; padding: 14px; background: #f3f4f6; color: #374151; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 14px;"
          onmouseover="this.style.background='#e5e7eb'"
          onmouseout="this.style.background='#f3f4f6'"
        >
          <i class="fas fa-times mr-2"></i>Batal
        </button>
        <button 
          type="submit" 
          style="flex: 1; padding: 14px; background: linear-gradient(135deg, #1EAF2F, #16a127); color: white; border: none; border-radius: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 14px; box-shadow: 0 4px 12px rgba(30, 175, 47, 0.3);"
          onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(30, 175, 47, 0.4)'"
          onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(30, 175, 47, 0.3)'"
        >
          <i class="fas fa-save mr-2"></i>Simpan
        </button>
      </div>
    </form>
  </div>
</div>

<style>
  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
